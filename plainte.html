<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porter Plainte - S7</title>
    <link rel="stylesheet" href="css/plainte.css">
</head>
<body>

        <header>
        <nav class="navbar">
            <div class="logo">
                <img src="S7back.png" alt="Logo">
                <span>S7</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="articles.html">Articles</a></li>
                <li><a href="nos-cibles.html">nos cibles</a></li>
                <li><a href="service.html">Nos services</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2>Porter Plainte</h2>
            <p>D√©posez une plainte contre une personne en remplissant le formulaire ci-dessous.</p>
        </section>

        <section class="contact">
            <h2>Formulaire de Plainte</h2>
            <form id="plainteForm">
                <input type="text" id="name" placeholder="Votre nom" required>
                <input type="email" id="email" placeholder="Votre email" required>
                <input type="tel" id="phone" placeholder="Votre num√©ro de t√©l√©phone" required>
                <input type="text" id="accused" placeholder="Nom de la personne accus√©e" required>
                <select id="severity">
                    <option value="‚ö†Ô∏è Mineur">‚ö†Ô∏è Mineur</option>
                    <option value="‚ùó Mod√©r√©">‚ùó Mod√©r√©</option>
                    <option value="üö® Urgent">üö® Urgent</option>
                </select>
                <textarea id="details" placeholder="D√©tails de la plainte..." required></textarea>
                <button type="submit" class="btn">Envoyer la plainte</button>
            </form>
        </section>
    </main>

    <script>
        document.getElementById("plainteForm").addEventListener("submit", function(event) {
            event.preventDefault();

            // R√©cup√©ration des valeurs du formulaire
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const phone = document.getElementById("phone").value;
            const accused = document.getElementById("accused").value;
            const severity = document.getElementById("severity").value;
            const details = document.getElementById("details").value;

            // Remplace par ton webhook Discord
            const webhookURL = "https://discord.com/api/webhooks/1352971374125256756/98-d1LQMdU0XN5Jb-gaTGpYuJ4kZoG9x8tw0VAOaFk70UqW8vTX203LeVQVR6ySmxqIa";

            // ID du r√¥le √† ping (remplace avec le vrai ID du r√¥le Discord)
            const roleID = "1346048621266599978";  // Remplace par l'ID de ton r√¥le

            // Cr√©ation de l'embed Discord avec un ping du r√¥le
            const data = {
                "content": `<@&${roleID}> üö® **Nouvelle Plainte D√©pos√©e !**`,  // Ping du r√¥le
                "embeds": [{
                    "title": "üìå **D√©tails de la Plainte**",
                    "color": 16711680, // Rouge
                    "thumbnail": {
                        "url": "https://example.com/logo.png"  // Remplace par le logo de ton service
                    },
                    "fields": [
                        {
                            "name": "üë§ **Plaignant**",
                            "value": `**${name}**`,
                            "inline": true
                        },
                        {
                            "name": "üìß **Email**",
                            "value": `${email}`,
                            "inline": true
                        },
                        {
                            "name": "üìû **T√©l√©phone**",
                            "value": `${phone}`,
                            "inline": true
                        },
                        {
                            "name": "‚öñÔ∏è **Personne Accus√©e**",
                            "value": `**${accused}**`,
                            "inline": true
                        },
                        {
                            "name": "üõë **Gravit√©**",
                            "value": `**${severity}**`,
                            "inline": true
                        },
                        {
                            "name": "üìú **D√©tails**",
                            "value": `\`\`\`${details}\`\`\``
                        }
                    ],
                    "footer": {
                        "text": "üìÜ Date: " + new Date().toLocaleString("fr-FR"),
                        "icon_url": "https://example.com/logo.png"
                    },
                    "timestamp": new Date().toISOString()
                }]
            };

            // Envoi de la requ√™te au webhook
            fetch(webhookURL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.ok) {
                    alert("‚úÖ Plainte envoy√©e avec succ√®s !");
                    document.getElementById("plainteForm").reset();
                } else {
                    alert("‚ùå Erreur lors de l'envoi !");
                }
            })
            .catch(error => {
                alert("‚ùå Erreur r√©seau !");
                console.error(error);
            });
        });
    </script>

</body>
</html>
